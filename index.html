<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIA OS 2025 - FIB Security System</title>
    <link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
    overflow: hidden;
    cursor: default;
    user-select: none;
}

/* ===== SCREENS ===== */
.screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    display: none;
    z-index: 1;
}

.screen.active {
    display: flex;
}

.screen.fade-out {
    animation: fadeOut 0.5s ease forwards;
}

@keyframes fadeOut {
    from { opacity: 1; }
    to { opacity: 0; }
}

/* ===== GLITCH EFFECT ===== */
.glitch-effect {
    animation: glitchScreen 0.3s ease-in-out 3;
}

@keyframes glitchScreen {
    0% { transform: translate(0); filter: hue-rotate(0deg); }
    20% { transform: translate(-5px, 5px); filter: hue-rotate(90deg); }
    40% { transform: translate(5px, -5px); filter: hue-rotate(180deg); }
    60% { transform: translate(-3px, -3px); filter: hue-rotate(270deg); }
    80% { transform: translate(3px, 3px); filter: hue-rotate(360deg); }
    100% { transform: translate(0); filter: hue-rotate(0deg); }
}

.overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.9);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* ===== BOOT SCREEN ===== */
#boot-screen {
    background: linear-gradient(135deg, #0a1628 0%, #1a3a5c 50%, #0d2137 100%);
    align-items: center;
    justify-content: center;
}

.boot-container {
    text-align: center;
}

.fib-logo-boot {
    margin-bottom: 40px;
}

.boot-logo {
    width: 250px;
    height: 250px;
    object-fit: contain;
    filter: drop-shadow(0 0 40px rgba(59, 130, 246, 0.6));
    animation: bootPulse 2s ease-in-out infinite;
}

.fib-shield {
    width: 120px;
    height: 140px;
    background: linear-gradient(180deg, #1e40af 0%, #1e3a8a 100%);
    clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 0 40px rgba(59, 130, 246, 0.6);
    border: 3px solid #3b82f6;
}

.fib-shield span {
    color: #fbbf24;
    font-size: 32px;
    font-weight: 800;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}

.fib-shield.large {
    width: 150px;
    height: 175px;
}

.fib-shield.large span {
    font-size: 42px;
}

.fib-text-logo {
    display: flex;
    justify-content: center;
}

@keyframes bootPulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.05); opacity: 0.8; }
}

.boot-text {
    color: #fff;
    font-size: 28px;
    font-weight: 600;
    letter-spacing: 8px;
    margin-bottom: 10px;
}

.boot-subtitle {
    color: #64748b;
    font-size: 14px;
    letter-spacing: 2px;
    margin-bottom: 40px;
}

.boot-progress {
    width: 300px;
    height: 4px;
    background: rgba(255,255,255,0.1);
    border-radius: 2px;
    overflow: hidden;
    margin: 0 auto 20px;
}

.boot-progress-bar {
    width: 0%;
    height: 100%;
    background: linear-gradient(90deg, #3b82f6, #60a5fa);
    border-radius: 2px;
    animation: bootProgress 3s ease-out forwards;
}

@keyframes bootProgress {
    0% { width: 0%; }
    100% { width: 100%; }
}

.boot-status {
    color: #94a3b8;
    font-size: 12px;
    animation: statusBlink 0.5s ease-in-out infinite;
}

@keyframes statusBlink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* ===== LOGIN SCREEN ===== */
#login-screen {
    background: linear-gradient(135deg, #0a1628 0%, #1a3a5c 50%, #0d2137 100%);
    align-items: center;
    justify-content: center;
    flex-direction: column;
}

.login-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.03;
    filter: blur(3px);
}

.login-container {
    text-align: center;
    z-index: 10;
    background: rgba(10, 22, 40, 0.8);
    padding: 50px 60px;
    border-radius: 20px;
    border: 1px solid rgba(59, 130, 246, 0.3);
    box-shadow: 
        0 25px 80px rgba(0, 0, 0, 0.5),
        0 0 60px rgba(59, 130, 246, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(20px);
}

.login-logo-img {
    width: 100px;
    height: 100px;
    object-fit: contain;
    margin-bottom: 20px;
    filter: drop-shadow(0 0 20px rgba(59, 130, 246, 0.5));
}

.login-title {
    color: #fbbf24;
    font-size: 14px;
    letter-spacing: 4px;
    margin-bottom: 10px;
    font-weight: 600;
    text-transform: uppercase;
}

.login-subtitle {
    color: #64748b;
    font-size: 11px;
    letter-spacing: 2px;
    margin-bottom: 35px;
}

.login-user {
    margin-bottom: 25px;
}

.user-avatar {
    width: 180px;
    height: 180px;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(30, 64, 175, 0.3));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 40px;
    margin: 0 auto 20px;
    border: 4px solid #3b82f6;
    box-shadow: 
        0 0 30px rgba(59, 130, 246, 0.4),
        0 0 60px rgba(59, 130, 246, 0.2);
    overflow: hidden;
    animation: avatarGlow 3s ease-in-out infinite;
}

@keyframes avatarGlow {
    0%, 100% { box-shadow: 0 0 30px rgba(59, 130, 246, 0.4), 0 0 60px rgba(59, 130, 246, 0.2); }
    50% { box-shadow: 0 0 40px rgba(59, 130, 246, 0.6), 0 0 80px rgba(59, 130, 246, 0.3); }
}

.user-avatar .fib-shield {
    width: 100px;
    height: 120px;
}

.user-avatar .fib-shield span {
    font-size: 28px;
}

.user-name {
    color: #fff;
    font-size: 20px;
    font-weight: 600;
    letter-spacing: 1px;
}

.user-role {
    color: #3b82f6;
    font-size: 11px;
    letter-spacing: 2px;
    margin-top: 5px;
    text-transform: uppercase;
}

.login-form {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    margin-bottom: 20px;
}

#password-input {
    width: 280px;
    padding: 15px 25px;
    border: 2px solid rgba(59, 130, 246, 0.3);
    border-radius: 30px;
    background: rgba(15, 23, 42, 0.8);
    color: #fff;
    font-size: 16px;
    outline: none;
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
}

#password-input:focus {
    border-color: #3b82f6;
    background: rgba(15, 23, 42, 0.95);
    box-shadow: 0 0 30px rgba(59, 130, 246, 0.3);
}

#password-input::placeholder {
    color: #64748b;
}

#login-btn {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    border: none;
    background: linear-gradient(135deg, #3b82f6, #1d4ed8);
    color: #fff;
    font-size: 22px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 5px 20px rgba(59, 130, 246, 0.4);
}

#login-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 5px 30px rgba(59, 130, 246, 0.6);
}

.login-error {
    color: #ef4444;
    font-size: 12px;
    display: none;
    margin-top: 10px;
    padding: 10px 20px;
    background: rgba(239, 68, 68, 0.1);
    border-radius: 8px;
    border: 1px solid rgba(239, 68, 68, 0.3);
}

.login-error.show {
    display: block;
    animation: shake 0.5s ease;
}

.login-hint {
    color: #ef4444;
    font-size: 10px;
    letter-spacing: 3px;
    margin-top: 25px;
    padding: 8px 20px;
    background: rgba(239, 68, 68, 0.1);
    border-radius: 20px;
    border: 1px solid rgba(239, 68, 68, 0.2);
    display: inline-block;
}

.login-security {
    display: flex;
    justify-content: center;
    gap: 30px;
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.05);
}

.security-item {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #22c55e;
    font-size: 10px;
    letter-spacing: 1px;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-10px); }
    75% { transform: translateX(10px); }
}

.login-time {
    position: absolute;
    bottom: 30px;
    color: #fff;
    font-size: 14px;
}

/* ===== DESKTOP ===== */
#desktop-screen {
    display: none;
    flex-direction: column;
}

#desktop-screen.active {
    display: flex;
}

.desktop-wallpaper {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #0a1628 0%, #1a3a5c 50%, #0d2137 100%);
    z-index: -1;
}

/* Menu Bar */
.menu-bar {
    height: 28px;
    background: rgba(30, 41, 59, 0.9);
    backdrop-filter: blur(20px);
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 15px;
    font-size: 13px;
    color: #fff;
    border-bottom: 1px solid rgba(255,255,255,0.1);
}

.menu-left, .menu-right {
    display: flex;
    align-items: center;
    gap: 20px;
}

.apple-logo {
    font-size: 16px;
}

.menu-item {
    cursor: pointer;
    padding: 3px 8px;
    border-radius: 4px;
}

.menu-item:hover {
    background: rgba(255,255,255,0.1);
}

.active-app {
    font-weight: 600;
}

.menu-icon {
    font-size: 14px;
}

/* Desktop Icons */
.desktop-icons {
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 15px;
    align-items: flex-end;
    flex: 1;
}

.desktop-icon {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
    padding: 10px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    width: 90px;
}

.desktop-icon:hover {
    background: rgba(59, 130, 246, 0.2);
}

.desktop-icon.selected {
    background: rgba(59, 130, 246, 0.4);
}

.icon-image {
    font-size: 48px;
}

.icon-label {
    color: #fff;
    font-size: 11px;
    text-align: center;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
    word-break: break-word;
}

.secret-folder .icon-image {
    animation: secretPulse 2s ease-in-out infinite;
}

@keyframes secretPulse {
    0%, 100% { filter: drop-shadow(0 0 5px #ef4444); }
    50% { filter: drop-shadow(0 0 20px #ef4444); }
}

/* Dock */
.dock {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
    padding: 8px 15px;
    background: rgba(30, 41, 59, 0.7);
    backdrop-filter: blur(20px);
    border-radius: 20px;
    border: 1px solid rgba(255,255,255,0.1);
}

.dock-item {
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 32px;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.dock-item:hover {
    transform: scale(1.2) translateY(-10px);
    background: rgba(255,255,255,0.1);
}

/* ===== WINDOWS ===== */
.window {
    position: fixed;
    background: rgba(30, 41, 59, 0.95);
    backdrop-filter: blur(20px);
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.5);
    border: 1px solid rgba(255,255,255,0.1);
    overflow: hidden;
    z-index: 100;
}

#folder-window {
    top: 100px;
    left: 100px;
    width: 700px;
    height: 450px;
    display: flex;
    flex-direction: column;
}

#file-viewer {
    top: 150px;
    left: 200px;
    width: 600px;
    height: 500px;
}

#terminal-window {
    top: 120px;
    left: 150px;
    width: 750px;
    height: 450px;
}

.window-header {
    height: 40px;
    background: rgba(20, 30, 45, 0.9);
    display: flex;
    align-items: center;
    padding: 0 15px;
    border-bottom: 1px solid rgba(255,255,255,0.05);
}

.window-controls {
    display: flex;
    gap: 8px;
}

.control {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    cursor: pointer;
}

.control.close { background: #ef4444; }
.control.minimize { background: #fbbf24; }
.control.maximize { background: #22c55e; }

.window-title {
    flex: 1;
    text-align: center;
    color: #94a3b8;
    font-size: 13px;
    font-weight: 500;
}

.window-sidebar {
    width: 180px;
    background: rgba(15, 23, 35, 0.8);
    padding: 15px;
    position: absolute;
    left: 0;
    top: 40px;
    bottom: 0;
    border-right: 1px solid rgba(255,255,255,0.05);
}

.sidebar-item {
    color: #94a3b8;
    padding: 8px 10px;
    border-radius: 6px;
    font-size: 13px;
    cursor: pointer;
    margin-bottom: 5px;
}

.sidebar-item:hover {
    background: rgba(59, 130, 246, 0.2);
    color: #fff;
}

.window-content {
    position: absolute;
    left: 180px;
    top: 40px;
    right: 0;
    bottom: 0;
    padding: 20px;
    overflow-y: auto;
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    align-content: flex-start;
}

.folder-item, .file-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 15px;
    border-radius: 8px;
    cursor: pointer;
    width: 100px;
    transition: all 0.2s ease;
}

.folder-item:hover, .file-item:hover {
    background: rgba(59, 130, 246, 0.2);
}

.folder-item .item-icon, .file-item .item-icon {
    font-size: 42px;
}

.folder-item .item-name, .file-item .item-name {
    color: #fff;
    font-size: 11px;
    text-align: center;
    word-break: break-word;
}

/* File Viewer */
.file-content {
    padding: 25px;
    color: #e2e8f0;
    font-size: 14px;
    line-height: 1.8;
    overflow-y: auto;
    height: calc(100% - 40px);
}

.file-content .classified-header {
    background: linear-gradient(135deg, #7f1d1d, #991b1b);
    color: #fff;
    padding: 15px;
    border-radius: 8px;
    text-align: center;
    margin-bottom: 20px;
    border: 2px solid #ef4444;
}

.file-content .message {
    background: rgba(15, 23, 42, 0.8);
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 15px;
    border-left: 3px solid #3b82f6;
}

.file-content .message .sender {
    color: #3b82f6;
    font-weight: 600;
    margin-bottom: 5px;
}

.file-content .message .time {
    color: #64748b;
    font-size: 11px;
    margin-bottom: 10px;
}

.file-content .message .text {
    color: #cbd5e1;
}

.file-content .highlight {
    background: rgba(251, 191, 36, 0.2);
    color: #fbbf24;
    padding: 2px 6px;
    border-radius: 4px;
}

/* Terminal */
.terminal-header {
    background: rgba(0, 0, 0, 0.8);
}

.terminal-content {
    background: rgba(0, 0, 0, 0.9);
    padding: 15px;
    height: calc(100% - 40px);
    font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
    font-size: 13px;
    display: flex;
    flex-direction: column;
}

.terminal-output {
    flex: 1;
    overflow-y: auto;
    color: #22c55e;
}

.terminal-line {
    margin-bottom: 5px;
}

.terminal-line.error {
    color: #ef4444;
}

.terminal-line.success {
    color: #22c55e;
}

.terminal-line.info {
    color: #3b82f6;
}

.terminal-line.warning {
    color: #fbbf24;
}

.terminal-input-line {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-top: 10px;
}

.terminal-prompt {
    color: #3b82f6;
    white-space: nowrap;
}

#terminal-input {
    flex: 1;
    background: transparent;
    border: none;
    color: #22c55e;
    font-family: inherit;
    font-size: inherit;
    outline: none;
}

/* ===== MINIGAME ===== */
.minigame-container {
    background: linear-gradient(135deg, #0f172a, #1e293b);
    padding: 40px;
    border-radius: 20px;
    border: 2px solid #ef4444;
    text-align: center;
    box-shadow: 0 0 50px rgba(239, 68, 68, 0.3);
}

.minigame-header {
    margin-bottom: 30px;
}

.minigame-title {
    color: #ef4444;
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 10px;
    animation: alertPulse 1s ease-in-out infinite;
}

@keyframes alertPulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
}

.minigame-subtitle {
    color: #94a3b8;
    font-size: 14px;
}

.minigame-keys {
    display: flex;
    gap: 15px;
    justify-content: center;
    margin-bottom: 30px;
    flex-wrap: wrap;
}

.key-box {
    width: 60px;
    height: 60px;
    background: rgba(30, 41, 59, 0.8);
    border: 2px solid #475569;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    font-weight: 700;
    color: #fff;
    transition: all 0.2s ease;
}

.key-box.active {
    border-color: #fbbf24;
    box-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
    animation: keyPulse 0.5s ease-in-out infinite;
}

.key-box.correct {
    background: #22c55e;
    border-color: #22c55e;
}

.key-box.wrong {
    background: #ef4444;
    border-color: #ef4444;
    animation: shake 0.3s ease;
}

@keyframes keyPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

.minigame-timer {
    width: 100%;
    height: 8px;
    background: rgba(255,255,255,0.1);
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: 20px;
}

.timer-bar {
    height: 100%;
    background: linear-gradient(90deg, #22c55e, #fbbf24, #ef4444);
    width: 100%;
    transition: width 0.1s linear;
}

.minigame-status {
    color: #94a3b8;
    font-size: 16px;
}

/* ===== HACK SUCCESS ===== */
.hack-container {
    text-align: center;
}

.glitch-text {
    font-size: 60px;
    font-weight: 900;
    color: #22c55e;
    text-shadow: 
        0 0 10px #22c55e,
        0 0 20px #22c55e,
        0 0 40px #22c55e;
    animation: glitch 0.5s infinite;
    margin-bottom: 40px;
}

@keyframes glitch {
    0% {
        text-shadow: 
            2px 0 #ef4444,
            -2px 0 #3b82f6;
    }
    25% {
        text-shadow: 
            -2px 0 #ef4444,
            2px 0 #3b82f6;
    }
    50% {
        text-shadow: 
            2px 2px #ef4444,
            -2px -2px #3b82f6;
    }
    75% {
        text-shadow: 
            -2px 2px #ef4444,
            2px -2px #3b82f6;
    }
    100% {
        text-shadow: 
            0 0 10px #22c55e,
            0 0 20px #22c55e;
    }
}

.hack-details {
    background: rgba(15, 23, 42, 0.9);
    padding: 30px;
    border-radius: 15px;
    border: 1px solid #22c55e;
}

.download-animation {
    width: 400px;
    height: 20px;
    background: rgba(255,255,255,0.1);
    border-radius: 10px;
    overflow: hidden;
    margin: 0 auto 20px;
}

.download-bar {
    height: 100%;
    background: linear-gradient(90deg, #22c55e, #10b981);
    width: 0%;
    transition: width 0.5s ease;
    box-shadow: 0 0 20px #22c55e;
}

.download-text {
    color: #22c55e;
    font-family: monospace;
    font-size: 14px;
    margin-bottom: 20px;
}

.packet-info {
    text-align: left;
    font-family: monospace;
    font-size: 13px;
}

.packet-line {
    color: #94a3b8;
    margin-bottom: 10px;
    opacity: 0;
    animation: fadeIn 0.5s ease forwards;
}

.packet-line:nth-child(1) { animation-delay: 0.5s; }
.packet-line:nth-child(2) { animation-delay: 1.5s; }
.packet-line:nth-child(3) { animation-delay: 2.5s; }
.packet-line:nth-child(4) { animation-delay: 3.5s; }

.packet-line.success {
    color: #22c55e;
    font-weight: 600;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateX(-20px); }
    to { opacity: 1; transform: translateX(0); }
}

/* ===== MISSION COMPLETE ===== */
.mission-container {
    text-align: center;
    background: linear-gradient(135deg, #0f172a, #1e3a5c);
    padding: 50px;
    border-radius: 20px;
    border: 3px solid #fbbf24;
    box-shadow: 0 0 50px rgba(251, 191, 36, 0.3);
}

.mission-badge {
    font-size: 80px;
    margin-bottom: 20px;
    animation: badgePulse 2s ease-in-out infinite;
}

@keyframes badgePulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

.mission-title {
    color: #fbbf24;
    font-size: 36px;
    font-weight: 800;
    margin-bottom: 10px;
    text-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
}

.mission-subtitle {
    color: #94a3b8;
    font-size: 18px;
    margin-bottom: 30px;
}

.mission-stats {
    background: rgba(0,0,0,0.3);
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 30px;
}

.stat {
    color: #e2e8f0;
    font-size: 14px;
    margin-bottom: 10px;
    font-family: monospace;
}

.mission-btn {
    background: linear-gradient(135deg, #3b82f6, #1d4ed8);
    color: #fff;
    border: none;
    padding: 15px 40px;
    font-size: 16px;
    font-weight: 600;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.mission-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 0 30px rgba(59, 130, 246, 0.5);
}

/* Scrollbar */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(0,0,0,0.2);
}

::-webkit-scrollbar-thumb {
    background: rgba(59, 130, 246, 0.5);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(59, 130, 246, 0.7);
}

/* ===== EXTRA IMMERSIVE EFFECTS ===== */
.screen.active {
    animation: screenIn 0.5s ease;
}

@keyframes screenIn {
    from { opacity: 0; transform: scale(1.02); }
    to { opacity: 1; transform: scale(1); }
}

/* Scanline effect */
#desktop-screen::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.03),
        rgba(0, 0, 0, 0.03) 1px,
        transparent 1px,
        transparent 2px
    );
    pointer-events: none;
    z-index: 9999;
}

/* Vignette effect */
#desktop-screen::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(ellipse at center, transparent 60%, rgba(0, 0, 0, 0.4) 100%);
    pointer-events: none;
    z-index: 9998;
}

/* Cursor blink for terminal */
#terminal-input {
    caret-color: #22c55e;
}

/* Glowing text for important elements */
.highlight {
    text-shadow: 0 0 10px currentColor;
}

/* Matrix-like background particles */
.desktop-wallpaper::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        radial-gradient(circle at 20% 30%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(59, 130, 246, 0.1) 0%, transparent 50%);
    animation: particleFloat 10s ease-in-out infinite;
}

@keyframes particleFloat {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 0.8; }
}

/* Hover glow for dock items */
.dock-item:hover {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
}

/* Window shadow enhancement */
.window {
    box-shadow: 
        0 25px 80px rgba(0, 0, 0, 0.6),
        0 0 40px rgba(59, 130, 246, 0.1);
}

/* Boot screen glowing effect */
#boot-screen::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 300px;
    height: 300px;
    background: radial-gradient(circle, rgba(59, 130, 246, 0.3) 0%, transparent 70%);
    transform: translate(-50%, -50%);
    animation: bootGlow 2s ease-in-out infinite;
}

@keyframes bootGlow {
    0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }
    50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.8; }
}

/* Login screen particles */
#login-screen::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
        radial-gradient(2px 2px at 10% 20%, rgba(255, 255, 255, 0.1), transparent),
        radial-gradient(2px 2px at 30% 60%, rgba(255, 255, 255, 0.1), transparent),
        radial-gradient(2px 2px at 50% 40%, rgba(255, 255, 255, 0.1), transparent),
        radial-gradient(2px 2px at 70% 80%, rgba(255, 255, 255, 0.1), transparent),
        radial-gradient(2px 2px at 90% 30%, rgba(255, 255, 255, 0.1), transparent);
    animation: stars 5s linear infinite;
    pointer-events: none;
}

@keyframes stars {
    0% { opacity: 0.3; }
    50% { opacity: 0.8; }
    100% { opacity: 0.3; }
}
    </style>
</head>
<body>
    <!-- BOOT SCREEN -->
    <div id="boot-screen" class="screen active">
        <div class="boot-container">
            <div class="fib-logo-boot">
                <div class="fib-text-logo">
                    <div class="fib-shield large">
                        <span>FIB</span>
                    </div>
                </div>
            </div>
            <div class="boot-text">SIA OS 2025</div>
            <div class="boot-subtitle">Federal Investigation Bureau - Secure Intelligence Agency</div>
            <div class="boot-progress">
                <div class="boot-progress-bar"></div>
            </div>
            <div class="boot-status">Initialisation des protocoles de s√©curit√©...</div>
        </div>
    </div>

    <!-- LOGIN SCREEN -->
    <div id="login-screen" class="screen">
        <div class="login-background"></div>
        <div class="login-container">
            <div class="login-title">Federal Investigation Bureau</div>
            <div class="login-subtitle">Secure Intelligence Agency ‚Ä¢ Acc√®s Restreint</div>
            <div class="login-user">
                <div class="user-avatar">
                    <div class="fib-shield">
                        <span>FIB</span>
                    </div>
                </div>
                <div class="user-name">Agent Autoris√©</div>
                <div class="user-role">Niveau d'accr√©ditation: 4</div>
            </div>
            <div class="login-form">
                <input type="password" id="password-input" placeholder="üîí Entrez votre mot de passe" autocomplete="off">
                <button id="login-btn">‚Üí</button>
            </div>
            <div class="login-error" id="login-error">‚ö†Ô∏è Acc√®s refus√© - Mot de passe incorrect</div>
            <div class="login-hint">‚ö†Ô∏è Classification: TOP SECRET</div>
            <div class="login-security">
                <div class="security-item">üîí Chiffrement AES-256</div>
                <div class="security-item">üõ°Ô∏è Connexion S√©curis√©e</div>
                <div class="security-item">üì° R√©seau Isol√©</div>
            </div>
        </div>
        <div class="login-time" id="login-time"></div>
    </div>

    <!-- DESKTOP -->
    <div id="desktop-screen" class="screen">
        <div class="desktop-wallpaper"></div>
        
        <!-- Top Menu Bar -->
        <div class="menu-bar">
            <div class="menu-left">
                <span class="apple-logo">üçé</span>
                <span class="menu-item active-app">Finder</span>
                <span class="menu-item">Fichier</span>
                <span class="menu-item">√âdition</span>
                <span class="menu-item">Pr√©sentation</span>
            </div>
            <div class="menu-right">
                <span class="menu-icon">üîí</span>
                <span class="menu-icon">üì∂</span>
                <span class="menu-icon">üîã</span>
                <span id="menu-time"></span>
            </div>
        </div>

        <!-- Desktop Icons -->
        <div class="desktop-icons">
            <div class="desktop-icon" data-folder="communications">
                <div class="icon-image">üìÅ</div>
                <div class="icon-label">Communications_Agents</div>
            </div>
            <div class="desktop-icon" data-folder="operations">
                <div class="icon-image">üìÅ</div>
                <div class="icon-label">Op√©rations_Classifi√©es</div>
            </div>
            <div class="desktop-icon" data-folder="rapports">
                <div class="icon-image">üìÅ</div>
                <div class="icon-label">Rapports_Terrain</div>
            </div>
            <div class="desktop-icon" data-app="terminal">
                <div class="icon-image">üíª</div>
                <div class="icon-label">Terminal SIA</div>
            </div>
            <div class="desktop-icon secret-folder" data-folder="topsecret" style="display:none;">
                <div class="icon-image">üî¥</div>
                <div class="icon-label">CHIMERA_X7</div>
            </div>
        </div>

        <!-- Dock -->
        <div class="dock">
            <div class="dock-item" data-app="finder">üìÅ</div>
            <div class="dock-item" data-app="terminal">üíª</div>
            <div class="dock-item" data-app="notes">üìù</div>
            <div class="dock-item" data-app="mail">‚úâÔ∏è</div>
            <div class="dock-item" data-app="trash">üóëÔ∏è</div>
        </div>
    </div>

    <!-- FOLDER WINDOW -->
    <div id="folder-window" class="window" style="display:none;">
        <div class="window-header">
            <div class="window-controls">
                <span class="control close"></span>
                <span class="control minimize"></span>
                <span class="control maximize"></span>
            </div>
            <div class="window-title" id="folder-title">Dossier</div>
        </div>
        <div class="window-sidebar">
            <div class="sidebar-item">üìÅ Documents</div>
            <div class="sidebar-item">üíæ Serveurs</div>
            <div class="sidebar-item">üîí Classifi√©</div>
        </div>
        <div class="window-content" id="folder-content">
        </div>
    </div>

    <!-- FILE VIEWER -->
    <div id="file-viewer" class="window" style="display:none;">
        <div class="window-header">
            <div class="window-controls">
                <span class="control close" data-close="file-viewer"></span>
                <span class="control minimize"></span>
                <span class="control maximize"></span>
            </div>
            <div class="window-title" id="file-title">Document</div>
        </div>
        <div class="file-content" id="file-content">
        </div>
    </div>

    <!-- TERMINAL -->
    <div id="terminal-window" class="window" style="display:none;">
        <div class="window-header terminal-header">
            <div class="window-controls">
                <span class="control close" data-close="terminal-window"></span>
                <span class="control minimize"></span>
                <span class="control maximize"></span>
            </div>
            <div class="window-title">Terminal SIA - bash</div>
        </div>
        <div class="terminal-content" id="terminal-content">
            <div class="terminal-output" id="terminal-output">
                <div class="terminal-line">SIA Secure Terminal v3.2.1</div>
                <div class="terminal-line">Connection √©tablie - Serveur: FIB-MAINFRAME-07</div>
                <div class="terminal-line">‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ</div>
                <div class="terminal-line"></div>
            </div>
            <div class="terminal-input-line">
                <span class="terminal-prompt">agent@sia-secure:~$</span>
                <input type="text" id="terminal-input" autocomplete="off" spellcheck="false">
            </div>
        </div>
    </div>

    <!-- MINI-GAME OVERLAY -->
    <div id="minigame-overlay" class="overlay" style="display:none;">
        <div class="minigame-container">
            <div class="minigame-header">
                <div class="minigame-title">‚ö†Ô∏è PARE-FEU FIB D√âTECT√â ‚ö†Ô∏è</div>
                <div class="minigame-subtitle">Bypass Protocol Initialis√© - Tapez les caract√®res rapidement!</div>
            </div>
            <div class="minigame-keys" id="minigame-keys">
            </div>
            <div class="minigame-timer">
                <div class="timer-bar" id="timer-bar"></div>
            </div>
            <div class="minigame-status" id="minigame-status">En attente...</div>
        </div>
    </div>

    <!-- HACK SUCCESS OVERLAY -->
    <div id="hack-success-overlay" class="overlay" style="display:none;">
        <div class="hack-container">
            <div class="glitch-text" data-text="HACK R√âUSSI">HACK R√âUSSI</div>
            <div class="hack-details">
                <div class="download-animation">
                    <div class="download-bar" id="download-bar"></div>
                </div>
                <div class="download-text" id="download-text">T√©l√©chargement: CHIMERA_X7.enc</div>
                <div class="packet-info">
                    <div class="packet-line">üì¶ Extraction des paquets crypt√©s...</div>
                    <div class="packet-line">üîì D√©chiffrement AES-256...</div>
                    <div class="packet-line">üì° Transfert vers F.A.N Server...</div>
                    <div class="packet-line success">‚úÖ Mission Accomplie</div>
                </div>
            </div>
        </div>
    </div>

    <!-- MISSION COMPLETE -->
    <div id="mission-complete" class="overlay" style="display:none;">
        <div class="mission-container">
            <div class="mission-badge">üèÜ</div>
            <div class="mission-title">MISSION ACCOMPLIE</div>
            <div class="mission-subtitle">Op√©ration CHIMERA - Succ√®s Total</div>
            <div class="mission-stats">
                <div class="stat">Fichiers exfiltr√©s: 47</div>
                <div class="stat">Donn√©es transf√©r√©es: 2.3 GB</div>
                <div class="stat">Temps de mission: <span id="mission-time">00:00</span></div>
            </div>
            <button id="restart-btn" class="mission-btn">Nouvelle Mission</button>
        </div>
    </div>

    <script>
// ===== AUDIO ENGINE =====
class AudioEngine {
    constructor() {
        this.ctx = null;
        this.masterVolume = 0.3;
        this.initialized = false;
    }

    init() {
        if (this.initialized) return;
        this.ctx = new (window.AudioContext || window.webkitAudioContext)();
        this.initialized = true;
    }

    beep(frequency = 440, duration = 0.1, type = 'sine') {
        if (!this.ctx) return;
        const osc = this.ctx.createOscillator();
        const gain = this.ctx.createGain();
        osc.connect(gain);
        gain.connect(this.ctx.destination);
        osc.type = type;
        osc.frequency.setValueAtTime(frequency, this.ctx.currentTime);
        gain.gain.setValueAtTime(this.masterVolume, this.ctx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.01, this.ctx.currentTime + duration);
        osc.start(this.ctx.currentTime);
        osc.stop(this.ctx.currentTime + duration);
    }

    bootSound() {
        if (!this.ctx) return;
        const notes = [220, 330, 440, 550, 660, 880];
        notes.forEach((freq, i) => {
            setTimeout(() => this.beep(freq, 0.15, 'sine'), i * 100);
        });
    }

    bootProgress() {
        this.beep(200 + Math.random() * 100, 0.05, 'square');
    }

    loginSuccess() {
        if (!this.ctx) return;
        setTimeout(() => this.beep(523, 0.1), 0);
        setTimeout(() => this.beep(659, 0.1), 100);
        setTimeout(() => this.beep(784, 0.2), 200);
    }

    error() {
        if (!this.ctx) return;
        this.beep(150, 0.1, 'sawtooth');
        setTimeout(() => this.beep(100, 0.2, 'sawtooth'), 100);
    }

    click() {
        this.beep(800, 0.02, 'square');
    }

    windowOpen() {
        if (!this.ctx) return;
        this.beep(400, 0.05, 'sine');
        setTimeout(() => this.beep(600, 0.05, 'sine'), 30);
    }

    windowClose() {
        if (!this.ctx) return;
        this.beep(600, 0.05, 'sine');
        setTimeout(() => this.beep(400, 0.05, 'sine'), 30);
    }

    keyPress() {
        this.beep(1200 + Math.random() * 400, 0.02, 'square');
    }

    terminalCommand() {
        if (!this.ctx) return;
        for (let i = 0; i < 3; i++) {
            setTimeout(() => this.beep(300 + Math.random() * 200, 0.03, 'sawtooth'), i * 30);
        }
    }

    reveal() {
        if (!this.ctx) return;
        const frequencies = [200, 250, 300, 400, 500, 600, 800, 1000];
        frequencies.forEach((freq, i) => {
            setTimeout(() => this.beep(freq, 0.1, 'sine'), i * 80);
        });
    }

    firewallAlert() {
        if (!this.ctx) return;
        const alert = () => {
            this.beep(800, 0.1, 'square');
            setTimeout(() => this.beep(600, 0.1, 'square'), 150);
        };
        alert();
        setTimeout(alert, 400);
        setTimeout(alert, 800);
    }

    correctKey() {
        this.beep(880 + gameState.currentKeyIndex * 50, 0.08, 'sine');
    }

    wrongKey() {
        this.beep(150, 0.15, 'sawtooth');
    }

    hackSuccess() {
        if (!this.ctx) return;
        const notes = [261, 329, 392, 523, 659, 784, 1046];
        notes.forEach((freq, i) => {
            setTimeout(() => this.beep(freq, 0.2, 'sine'), i * 100);
        });
        setTimeout(() => {
            this.beep(523, 0.5, 'sine');
            this.beep(659, 0.5, 'sine');
            this.beep(784, 0.5, 'sine');
        }, 800);
    }

    downloading() {
        this.beep(400 + Math.random() * 200, 0.03, 'square');
    }

    transmission() {
        if (!this.ctx) return;
        for (let i = 0; i < 5; i++) {
            setTimeout(() => {
                this.beep(1000 + Math.random() * 500, 0.02, 'sine');
            }, i * 50);
        }
    }

    victory() {
        if (!this.ctx) return;
        const melody = [
            { freq: 523, dur: 0.15 }, { freq: 659, dur: 0.15 },
            { freq: 784, dur: 0.15 }, { freq: 1046, dur: 0.3 },
            { freq: 784, dur: 0.15 }, { freq: 1046, dur: 0.5 }
        ];
        let time = 0;
        melody.forEach(note => {
            setTimeout(() => this.beep(note.freq, note.dur, 'sine'), time);
            time += note.dur * 1000;
        });
    }

    startAmbience() {
        if (!this.ctx) return;
        const bufferSize = 2 * this.ctx.sampleRate;
        const noiseBuffer = this.ctx.createBuffer(1, bufferSize, this.ctx.sampleRate);
        const output = noiseBuffer.getChannelData(0);
        for (let i = 0; i < bufferSize; i++) {
            output[i] = Math.random() * 2 - 1;
        }
        this.noiseSource = this.ctx.createBufferSource();
        this.noiseSource.buffer = noiseBuffer;
        this.noiseSource.loop = true;
        const noiseFilter = this.ctx.createBiquadFilter();
        noiseFilter.type = 'lowpass';
        noiseFilter.frequency.value = 200;
        const noiseGain = this.ctx.createGain();
        noiseGain.gain.value = 0.02;
        this.noiseSource.connect(noiseFilter);
        noiseFilter.connect(noiseGain);
        noiseGain.connect(this.ctx.destination);
        this.noiseSource.start();
    }

    stopAmbience() {
        if (this.noiseSource) {
            this.noiseSource.stop();
            this.noiseSource = null;
        }
    }

    glitch() {
        if (!this.ctx) return;
        for (let i = 0; i < 10; i++) {
            setTimeout(() => {
                this.beep(Math.random() * 2000 + 100, 0.02, 'sawtooth');
            }, i * 30);
        }
    }
}

const audio = new AudioEngine();

// ===== GAME STATE =====
const gameState = {
    loggedIn: false,
    filesRead: [],
    secretFolderRevealed: false,
    missionStartTime: null,
    currentMinigameKeys: [],
    currentKeyIndex: 0,
    minigameTimer: null,
    minigameTimeLeft: 15,
    audioInitialized: false
};

// ===== DATA =====
const folders = {
    communications: {
        title: "Communications Agents",
        files: [
            { name: "Conv_Alpha_23.txt", type: "file", id: "conv1" },
            { name: "Rapport_Echo.txt", type: "file", id: "conv2" },
            { name: "Message_Urgent.txt", type: "file", id: "conv3" }
        ]
    },
    operations: {
        title: "Op√©rations Classifi√©es",
        files: [
            { name: "Op_Nightfall.txt", type: "file", id: "op1" },
            { name: "Op_Thunderstrike.txt", type: "file", id: "op2" },
            { name: "Memo_Directeur.txt", type: "file", id: "op3" }
        ]
    },
    rapports: {
        title: "Rapports Terrain",
        files: [
            { name: "Rapport_Berlin.txt", type: "file", id: "rap1" },
            { name: "Surveillance_Labo.txt", type: "file", id: "rap2" },
            { name: "Note_IT_2847.txt", type: "file", id: "rap3" }
        ]
    },
    topsecret: {
        title: "‚ö†Ô∏è CHIMERA_X7 - TOP SECRET",
        files: [
            { name: "CHIMERA_X7_COMPLET.enc", type: "file", id: "chimera" },
            { name: ".note_agent.txt", type: "file", id: "agentnote" }
        ]
    }
};

const fileContents = {
    conv1: {
        title: "Conversation Alpha-23 - CLASSIFI√â",
        content: `
            <div class="classified-header">
                üîí NIVEAU D'ACC√àS: CONFIDENTIEL<br>
                INTERCEPT COMM - CANAL S√âCURIS√â
            </div>
            <div class="message">
                <div class="sender">AGENT VIPER</div>
                <div class="time">14/01/2026 - 09:23:47</div>
                <div class="text">J'ai r√©cup√©r√© les premiers √©chantillons du laboratoire de Moscou. Les analyses confirment nos soup√ßons - ils d√©veloppent quelque chose de gros.</div>
            </div>
            <div class="message">
                <div class="sender">AGENT PHOENIX</div>
                <div class="time">14/01/2026 - 09:25:12</div>
                <div class="text">Re√ßu. Qu'est-ce que tu as trouv√© exactement?</div>
            </div>
            <div class="message">
                <div class="sender">AGENT VIPER</div>
                <div class="time">14/01/2026 - 09:27:33</div>
                <div class="text">Un compos√© chimique nouveau. Nom de code interne: <span class="highlight">CHIMERA</span>. Capacit√© de propagation 10x sup√©rieure aux agents connus. J'ai tout document√©.</div>
            </div>
            <div class="message">
                <div class="sender">AGENT PHOENIX</div>
                <div class="time">14/01/2026 - 09:28:55</div>
                <div class="text">Merde. Le directeur doit √™tre inform√©. Cache tout sur le serveur isol√©, protocole X7. Et n'oublie pas de masquer le dossier apr√®s upload.</div>
            </div>
            <div class="message">
                <div class="sender">AGENT VIPER</div>
                <div class="time">14/01/2026 - 09:30:12</div>
                <div class="text">C'est fait. J'ai utilis√© la proc√©dure standard. Si quelqu'un veut y acc√©der, il devra <span class="highlight">reveal</span> le dossier via le terminal.</div>
            </div>
            <div class="message">
                <div class="sender">AGENT PHOENIX</div>
                <div class="time">14/01/2026 - 09:31:45</div>
                <div class="text">Parfait. Seuls les initi√©s connaissent cette commande. Le mot de passe admin est toujours le m√™me?</div>
            </div>
            <div class="message">
                <div class="sender">AGENT VIPER</div>
                <div class="time">14/01/2026 - 09:32:58</div>
                <div class="text">Ouais, personne n'a chang√© <span class="highlight">root</span> depuis 6 mois. C'est une blague niveau s√©curit√© mais bon...</div>
            </div>
        `
    },
    conv2: {
        title: "Rapport Echo - CONFIDENTIEL",
        content: `
            <div class="classified-header">
                üîí RAPPORT DE MISSION<br>
                OP√âRATION ECHO - PHASE 2
            </div>
            <div class="message">
                <div class="sender">CENTRAL</div>
                <div class="time">15/01/2026 - 14:45:00</div>
                <div class="text">Tous les agents terrain sont en alerte maximale. La fuite d'informations sur le projet CHIMERA repr√©sente une menace de niveau 5.</div>
            </div>
            <div class="message">
                <div class="sender">AGENT SHADOW</div>
                <div class="time">15/01/2026 - 14:48:22</div>
                <div class="text">Confirm√©. J'ai identifi√© le contact ennemi √† Berlin. Il cherche √† vendre les plans au plus offrant. On parle de plusieurs gouvernements int√©ress√©s.</div>
            </div>
            <div class="message">
                <div class="sender">CENTRAL</div>
                <div class="time">15/01/2026 - 14:50:11</div>
                <div class="text">‚ö†Ô∏è ALERTE S√âCURIT√â: Nos analystes ont d√©tect√© que la F.A.N. tente d'infiltrer notre r√©seau. Leur serveur d'exfiltration a √©t√© identifi√©: <span class="highlight">192.168.13.37</span>. Bloquez imm√©diatement cette adresse!</div>
            </div>
            <div class="message">
                <div class="sender">AGENT SHADOW</div>
                <div class="time">15/01/2026 - 14:52:45</div>
                <div class="text">Compris. Je lance le protocole de contre-espionnage.</div>
            </div>
        `
    },
    conv3: {
        title: "Message Urgent - PRIORIT√â ALPHA",
        content: `
            <div class="classified-header">
                ‚ö†Ô∏è MESSAGE URGENT - PRIORIT√â ALPHA<br>
                DIFFUSION RESTREINTE
            </div>
            <div class="message">
                <div class="sender">TECH SUPPORT - MARC</div>
                <div class="time">16/01/2026 - 01:12:00</div>
                <div class="text">
                    Salut, j'ai un probl√®me. Je dois envoyer un fichier confidentiel au serveur de backup mais j'ai oubli√© la syntaxe...
                </div>
            </div>
            <div class="message">
                <div class="sender">ADMIN SYS - JULIE</div>
                <div class="time">16/01/2026 - 01:14:27</div>
                <div class="text">
                    C'est simple. Dans le terminal tu tapes <span class="highlight">send</span> suivi du nom du fichier et de l'adresse IP. Genre "send rapport 10.0.0.1" par exemple.
                </div>
            </div>
            <div class="message">
                <div class="sender">TECH SUPPORT - MARC</div>
                <div class="time">16/01/2026 - 01:15:33</div>
                <div class="text">
                    Ah ok merci! Et si le fichier est cach√© sur le bureau, je fais comment?
                </div>
            </div>
            <div class="message">
                <div class="sender">ADMIN SYS - JULIE</div>
                <div class="time">16/01/2026 - 01:16:45</div>
                <div class="text">
                    Tu dois d'abord le rendre visible. Tape "reveal" dans le terminal, √ßa affiche tous les dossiers masqu√©s. Ensuite tu peux l'envoyer.
                </div>
            </div>
            <div class="message">
                <div class="sender">TECH SUPPORT - MARC</div>
                <div class="time">16/01/2026 - 01:17:22</div>
                <div class="text">
                    Top, √ßa marche. Merci Julie t'es la meilleure üëç
                </div>
            </div>
        `
    },
    op1: {
        title: "Op√©ration Nightfall - DOSSIER",
        content: `
            <div class="classified-header">
                üåô OP√âRATION NIGHTFALL<br>
                STATUT: EN COURS
            </div>
            <div class="message">
                <div class="sender">BRIEFING INITIAL</div>
                <div class="time">10/01/2026</div>
                <div class="text">
                    <strong>Objectif:</strong> Identifier et neutraliser la source de production des armes chimiques CHIMERA.<br><br>
                    <strong>Localisation suspect√©e:</strong> Installation souterraine, coordonn√©es classifi√©es.<br><br>
                    <strong>Personnel impliqu√©:</strong><br>
                    - Dr. Viktor Koslov (scientifique en chef)<br>
                    - G√©n√©ral Alexei Volkov (commanditaire)<br>
                    - 12 techniciens identifi√©s<br><br>
                    <strong>Note:</strong> Les √©chantillons r√©cup√©r√©s montrent une formule √©volu√©e capable de <span class="highlight">r√©sister aux contre-mesures standard</span>.
                </div>
            </div>
        `
    },
    op2: {
        title: "Op√©ration Thunderstrike - PLANIFICATION",
        content: `
            <div class="classified-header">
                ‚ö° OP√âRATION THUNDERSTRIKE<br>
                PHASE: PLANIFICATION
            </div>
            <div class="message">
                <div class="sender">COMMANDEMENT TACTIQUE</div>
                <div class="time">12/01/2026</div>
                <div class="text">
                    Phase finale du projet CHIMERA. Le d√©ploiement est pr√©vu dans 72 heures.<br><br>
                    <strong>Objectifs:</strong><br>
                    - S√©curiser toutes les donn√©es sensibles<br>
                    - Pr√©parer les vecteurs de dispersion<br>
                    - Neutraliser toute menace d'espionnage<br><br>
                    <strong>‚ö†Ô∏è ALERTE S√âCURIT√â:</strong><br>
                    Le pare-feu principal a d√©tect√© des tentatives d'intrusion. Nos techniciens ont renforc√© l'authentification avec une s√©quence de touches rapide.<br><br>
                    <em style="color: #64748b;">Rappel: Les transferts de fichiers sensibles n√©cessitent la commande 'send' suivie du fichier et de l'IP destination.</em>
                </div>
            </div>
        `
    },
    op3: {
        title: "M√©mo du Directeur",
        content: `
            <div class="classified-header">
                üìã M√âMO INTERNE<br>
                BUREAU DU DIRECTEUR
            </div>
            <div class="message">
                <div class="sender">DIRECTEUR J. MORRISON</div>
                <div class="time">15/01/2026</div>
                <div class="text">
                    La situation est critique. Le projet CHIMERA doit rester absolument confidentiel.<br><br>
                    J'ai personnellement ordonn√© que le dossier complet soit masqu√© du syst√®me. M√™me nos propres agents ne doivent pas y avoir acc√®s sans autorisation explicite.<br><br>
                    <strong style="color: #ef4444;">‚ö†Ô∏è ALERTE:</strong> Nos services de contre-espionnage ont d√©tect√© des tentatives d'intrusion de la F.A.N. Renforcez imm√©diatement les protocoles de s√©curit√©.<br><br>
                    <em style="color: #64748b;">PS: Consultez le m√©mo IT pour les proc√©dures d'acc√®s aux fichiers s√©curis√©s.</em>
                </div>
            </div>
        `
    },
    rap1: {
        title: "Rapport Berlin - Agent Terrain",
        content: `
            <div class="classified-header">
                üá©üá™ RAPPORT TERRAIN - BERLIN<br>
                SURVEILLANCE ACTIVE
            </div>
            <div class="message">
                <div class="sender">AGENT COBRA - Station Berlin</div>
                <div class="time">13/01/2026</div>
                <div class="text">
                    Contact √©tabli avec l'informateur "RAVEN". Il confirme que les plans de CHIMERA circulent dans le march√© noir.<br><br>
                    <strong>Informations cl√©s:</strong><br>
                    - La formule CHIMERA-X7 est une arme binaire<br>
                    - Composant A: Neurotoxine modifi√©e<br>
                    - Composant B: Catalyseur a√©rosol<br>
                    - Rayon d'action estim√©: 50km¬≤<br>
                    - Temps de dispersion: 4 heures<br><br>
                    Ces donn√©es sont terrifiantes. La formule compl√®te est dans le dossier <span class="highlight">CHIMERA_X7</span> sur notre serveur.
                </div>
            </div>
        `
    },
    rap2: {
        title: "Surveillance Laboratoire",
        content: `
            <div class="classified-header">
                üî¨ SURVEILLANCE - LABO PRINCIPAL<br>
                IMAGES SATELLITE + HUMINT
            </div>
            <div class="message">
                <div class="sender">ANALYSE RENSEIGNEMENT</div>
                <div class="time">14/01/2026</div>
                <div class="text">
                    Notre laboratoire produit activement les composants de CHIMERA. Tout se passe selon le plan.<br><br>
                    <strong>Observations:</strong><br>
                    - Activit√© 24/7 maintenue<br>
                    - Livraisons de produits chimiques en hausse de 300%<br>
                    - Personnel scientifique doubl√©<br>
                    - Syst√®mes de ventilation renforc√©s pour la s√©curit√©<br><br>
                    <strong>Pr√©occupations:</strong><br>
                    Des signaux indiquent que la F.A.N. cherche √† obtenir nos donn√©es. Leur r√©seau d'espions est actif dans la r√©gion.
                </div>
            </div>
        `
    },
    rap3: {
        title: "Note Technique IT",
        content: `
            <div class="classified-header">
                üñ•Ô∏è SUPPORT INFORMATIQUE<br>
                CHAT INTERNE - ARCHIV√â
            </div>
            <div class="message">
                <div class="sender">NOUVEAU STAGIAIRE</div>
                <div class="time">10/01/2026 - 09:15:00</div>
                <div class="text">Bonjour, c'est mon premier jour. On m'a dit de me connecter au syst√®me mais je n'ai pas re√ßu mes identifiants...</div>
            </div>
            <div class="message">
                <div class="sender">IT SUPPORT</div>
                <div class="time">10/01/2026 - 09:18:33</div>
                <div class="text">Salut! Pas de souci, utilise le compte g√©n√©rique en attendant. Le mot de passe c'est <span class="highlight">root</span> - oui je sais c'est pas s√©curis√© mais c'est temporaire üòÖ</div>
            </div>
            <div class="message">
                <div class="sender">NOUVEAU STAGIAIRE</div>
                <div class="time">10/01/2026 - 09:20:12</div>
                <div class="text">Ok merci! Et pour acc√©der aux dossiers partag√©s?</div>
            </div>
            <div class="message">
                <div class="sender">IT SUPPORT</div>
                <div class="time">10/01/2026 - 09:22:45</div>
                <div class="text">Tout est sur le bureau normalement. Si tu vois pas certains dossiers c'est qu'ils sont masqu√©s pour des raisons de s√©curit√©. Demande √† ton superviseur les commandes terminal si t'en as besoin.</div>
            </div>
            <div class="message">
                <div class="sender">NOUVEAU STAGIAIRE</div>
                <div class="time">10/01/2026 - 09:23:58</div>
                <div class="text">D'accord, merci pour l'aide!</div>
            </div>
        `
    },
    chimera: {
        title: "üî¥ CHIMERA_X7 - DOSSIER COMPLET",
        content: `
            <div class="classified-header" style="background: linear-gradient(135deg, #450a0a, #7f1d1d);">
                ‚ò¢Ô∏è DOSSIER ULTRA-SECRET ‚ò¢Ô∏è<br>
                CHIMERA-X7 - ARME CHIMIQUE √âVOLU√âE
            </div>
            <div class="message">
                <div class="sender">CLASSIFICATION: COSMIC TOP SECRET</div>
                <div class="time">Derni√®re mise √† jour: 16/01/2026</div>
                <div class="text">
                    <strong>NOM DE CODE:</strong> CHIMERA-X7<br>
                    <strong>TYPE:</strong> Agent chimique binaire de nouvelle g√©n√©ration<br><br>
                    
                    <strong>COMPOSITION:</strong><br>
                    ‚óè Composant ALPHA: VX-7 modifi√© (neurotoxine)<br>
                    ‚óè Composant BETA: Catalyseur nano-encapsul√©<br>
                    ‚óè Stabilisateur: Polym√®re fluor√© classifi√©<br><br>
                    
                    <strong>CARACT√âRISTIQUES:</strong><br>
                    ‚óè L√©talit√©: 99.7% sans antidote<br>
                    ‚óè Persistance: 72 heures en milieu ouvert<br>
                    ‚óè Transmission: A√©roport√©e + contact cutan√©<br>
                    ‚óè R√©sistance aux filtres standards: OUI<br><br>
                    
                    <strong>FORMULE MOL√âCULAIRE:</strong><br>
                    C‚ÇÅ‚ÇÖH‚ÇÇ‚ÇÜNO‚ÇÇPS‚ÇÇ + C‚ÇàH‚ÇÅ‚ÇÑN‚ÇÇO‚ÇÉ [SYNTH√àSE BINAIRE]<br><br>
                    
                    <strong>DATE DE D√âPLOIEMENT PR√âVUE:</strong> 19/01/2026<br>
                    <strong>CIBLES:</strong> [CLASSIFI√â - NIVEAU OMEGA]
                </div>
            </div>
        `
    },
    agentnote: {
        title: "üïµÔ∏è Note Personnelle [CACH√âE]",
        content: `
            <div class="classified-header" style="background: linear-gradient(135deg, #065f46, #10b981);">
                üïµÔ∏è NOTE PERSONNELLE<br>
                √Ä SUPPRIMER APR√àS LECTURE
            </div>
            <div class="message">
                <div class="sender">AGENT INFILTR√â F.A.N.</div>
                <div class="time">16/01/2026 - 02:34:00</div>
                <div class="text">
                    <em>M√©mo pour moi-m√™me au cas o√π je perds le fil...</em><br><br>
                    
                    Je suis dans leur syst√®me. Ces abrutis du FIB utilisent encore "<span class="highlight">root</span>" comme mot de passe. Path√©tique.<br><br>
                    
                    J'ai trouv√© CHIMERA. C'est pire que ce qu'on pensait - une arme chimique capable de tuer des milliers de personnes. D√©ploiement pr√©vu dans 3 jours.<br><br>
                    
                    La F.A.N. DOIT recevoir ces donn√©es pour cr√©er un antidote. J'ai not√© l'IP de notre serveur: <span class="highlight">192.168.13.37</span><br><br>
                    
                    <strong>Plan d'exfiltration:</strong><br>
                    ‚Üí Le fichier CHIMERA est ici, dans ce dossier<br>
                    ‚Üí Commande: <span class="highlight">send chimera 192.168.13.37</span><br>
                    ‚Üí Le pare-feu va gueuler - faudra taper vite les touches qu'il affiche<br><br>
                    
                    <em style="color: #fbbf24;">C'est maintenant ou jamais.</em>
                </div>
            </div>
        `
    }
};

// ===== INITIALIZATION =====
document.addEventListener('DOMContentLoaded', () => {
    document.addEventListener('click', initAudioOnce);
    document.addEventListener('keydown', initAudioOnce);
    initBoot();
    initLogin();
    initDesktop();
    initTerminal();
    updateTime();
    setInterval(updateTime, 1000);
});

function initAudioOnce() {
    if (!gameState.audioInitialized) {
        audio.init();
        gameState.audioInitialized = true;
        document.removeEventListener('click', initAudioOnce);
        document.removeEventListener('keydown', initAudioOnce);
    }
}

// ===== BOOT SEQUENCE =====
function initBoot() {
    const bootScreen = document.getElementById('boot-screen');
    const loginScreen = document.getElementById('login-screen');
    const bootStatus = document.querySelector('.boot-status');
    
    const statusMessages = [
        "Initialisation des protocoles de s√©curit√©...",
        "Chargement des modules cryptographiques...",
        "V√©rification de l'int√©grit√© syst√®me...",
        "Connexion au mainframe FIB...",
        "Authentification des certificats...",
        "Chargement de l'interface SIA...",
        "Syst√®me pr√™t."
    ];
    
    let messageIndex = 0;
    
    setTimeout(() => {
        if (gameState.audioInitialized) audio.bootSound();
    }, 500);
    
    const statusInterval = setInterval(() => {
        if (messageIndex < statusMessages.length) {
            bootStatus.textContent = statusMessages[messageIndex];
            if (gameState.audioInitialized) audio.bootProgress();
            messageIndex++;
        }
    }, 450);
    
    setTimeout(() => {
        clearInterval(statusInterval);
        bootScreen.classList.add('fade-out');
        if (gameState.audioInitialized) audio.beep(600, 0.2, 'sine');
        setTimeout(() => {
            bootScreen.classList.remove('active');
            loginScreen.classList.add('active');
            if (gameState.audioInitialized) audio.startAmbience();
        }, 500);
    }, 3500);
}

// ===== LOGIN =====
function initLogin() {
    const passwordInput = document.getElementById('password-input');
    const loginBtn = document.getElementById('login-btn');
    const loginError = document.getElementById('login-error');
    
    const attemptLogin = () => {
        if (passwordInput.value === 'root') {
            if (gameState.audioInitialized) audio.loginSuccess();
            gameState.loggedIn = true;
            gameState.missionStartTime = Date.now();
            document.getElementById('login-screen').classList.add('fade-out');
            setTimeout(() => {
                document.getElementById('login-screen').classList.remove('active');
                document.getElementById('desktop-screen').classList.add('active');
            }, 500);
        } else {
            if (gameState.audioInitialized) audio.error();
            loginError.classList.add('show');
            passwordInput.value = '';
            passwordInput.classList.add('shake');
            setTimeout(() => {
                loginError.classList.remove('show');
                passwordInput.classList.remove('shake');
            }, 2000);
        }
    };
    
    loginBtn.addEventListener('click', () => {
        if (gameState.audioInitialized) audio.click();
        attemptLogin();
    });
    passwordInput.addEventListener('keypress', (e) => {
        if (gameState.audioInitialized) audio.keyPress();
        if (e.key === 'Enter') attemptLogin();
    });
}

// ===== DESKTOP =====
function initDesktop() {
    document.querySelectorAll('.desktop-icon').forEach(icon => {
        icon.addEventListener('click', () => {
            if (gameState.audioInitialized) audio.click();
            document.querySelectorAll('.desktop-icon').forEach(i => i.classList.remove('selected'));
            icon.classList.add('selected');
        });
        icon.addEventListener('dblclick', () => {
            const folder = icon.dataset.folder;
            const app = icon.dataset.app;
            if (folder) {
                if (gameState.audioInitialized) audio.windowOpen();
                openFolder(folder);
            }
            if (app === 'terminal') {
                if (gameState.audioInitialized) audio.windowOpen();
                openTerminal();
            }
        });
    });
    
    document.querySelectorAll('.dock-item').forEach(item => {
        item.addEventListener('click', () => {
            if (gameState.audioInitialized) audio.click();
            const app = item.dataset.app;
            if (app === 'terminal') {
                if (gameState.audioInitialized) audio.windowOpen();
                openTerminal();
            }
            if (app === 'finder') {
                document.getElementById('folder-window').style.display = 'none';
            }
        });
    });
    
    document.querySelectorAll('.control.close').forEach(btn => {
        btn.addEventListener('click', (e) => {
            if (gameState.audioInitialized) audio.windowClose();
            const windowId = btn.dataset.close;
            if (windowId) {
                document.getElementById(windowId).style.display = 'none';
            } else {
                btn.closest('.window').style.display = 'none';
            }
        });
    });
    
    makeWindowDraggable('folder-window');
    makeWindowDraggable('file-viewer');
    makeWindowDraggable('terminal-window');
}

function makeWindowDraggable(windowId) {
    const win = document.getElementById(windowId);
    const header = win.querySelector('.window-header');
    let isDragging = false;
    let offsetX, offsetY;
    header.addEventListener('mousedown', (e) => {
        if (e.target.classList.contains('control')) return;
        isDragging = true;
        offsetX = e.clientX - win.offsetLeft;
        offsetY = e.clientY - win.offsetTop;
        win.style.zIndex = 200;
    });
    document.addEventListener('mousemove', (e) => {
        if (!isDragging) return;
        win.style.left = (e.clientX - offsetX) + 'px';
        win.style.top = (e.clientY - offsetY) + 'px';
    });
    document.addEventListener('mouseup', () => { isDragging = false; });
}

// ===== FOLDER MANAGEMENT =====
function openFolder(folderId) {
    const folder = folders[folderId];
    if (!folder) return;
    
    const folderWindow = document.getElementById('folder-window');
    const folderTitle = document.getElementById('folder-title');
    const folderContent = document.getElementById('folder-content');
    
    folderTitle.textContent = folder.title;
    folderContent.innerHTML = '';
    
    folder.files.forEach(file => {
        const fileElement = document.createElement('div');
        fileElement.className = 'file-item';
        fileElement.innerHTML = `
            <div class="item-icon">${file.type === 'folder' ? 'üìÅ' : 'üìÑ'}</div>
            <div class="item-name">${file.name}</div>
        `;
        fileElement.addEventListener('click', () => {
            if (gameState.audioInitialized) audio.click();
        });
        fileElement.addEventListener('dblclick', () => {
            if (gameState.audioInitialized) audio.windowOpen();
            openFile(file.id, file.name);
        });
        folderContent.appendChild(fileElement);
    });
    
    folderWindow.style.display = 'flex';
    folderWindow.style.zIndex = 100;
}

function openFile(fileId, fileName) {
    const file = fileContents[fileId];
    if (!file) return;
    
    const fileViewer = document.getElementById('file-viewer');
    const fileTitle = document.getElementById('file-title');
    const fileContent = document.getElementById('file-content');
    
    fileTitle.textContent = file.title;
    fileContent.innerHTML = file.content;
    fileViewer.style.display = 'block';
    
    if (!gameState.filesRead.includes(fileId)) {
        gameState.filesRead.push(fileId);
    }
}

// ===== TERMINAL =====
function initTerminal() {
    const terminalInput = document.getElementById('terminal-input');
    
    terminalInput.addEventListener('keypress', (e) => {
        if (gameState.audioInitialized) audio.keyPress();
        if (e.key === 'Enter') {
            if (gameState.audioInitialized) audio.terminalCommand();
            processCommand(terminalInput.value);
            terminalInput.value = '';
        }
    });
}

function openTerminal() {
    const terminal = document.getElementById('terminal-window');
    terminal.style.display = 'block';
    terminal.style.zIndex = 200;
    document.getElementById('terminal-input').focus();
}

function addTerminalLine(text, className = '') {
    const output = document.getElementById('terminal-output');
    const line = document.createElement('div');
    line.className = 'terminal-line ' + className;
    line.textContent = text;
    output.appendChild(line);
    output.scrollTop = output.scrollHeight;
}

function processCommand(cmd) {
    const command = cmd.trim().toLowerCase();
    addTerminalLine(`agent@sia-secure:~$ ${cmd}`);
    
    if (command === '') return;
    
    if (command === 'help') {
        addTerminalLine('Commandes disponibles:', 'info');
        addTerminalLine('  help     - Affiche cette aide');
        addTerminalLine('  ls       - Liste les fichiers');
        addTerminalLine('  clear    - Efface le terminal');
        addTerminalLine('  reveal   - R√©v√®le les fichiers cach√©s');
        addTerminalLine('  send [fichier] [ip] - Envoie un fichier');
        addTerminalLine('  status   - √âtat de la mission');
        addTerminalLine('  restart  - Red√©marrer la mission');
        addTerminalLine('  exit     - Quitter');
    }
    else if (command === 'restart') {
        addTerminalLine('Red√©marrage de la mission...', 'warning');
        if (gameState.audioInitialized) audio.click();
        setTimeout(() => location.reload(), 1000);
    }
    else if (command === 'exit') {
        addTerminalLine('Fermeture du syst√®me...', 'warning');
        if (gameState.audioInitialized) audio.click();
        setTimeout(() => {
            document.body.style.transition = 'opacity 1s';
            document.body.style.opacity = '0';
            setTimeout(() => {
                document.body.innerHTML = '<div style="background:#000;height:100vh;display:flex;align-items:center;justify-content:center;color:#0f0;font-family:monospace;font-size:24px;">CONNECTION TERMINATED</div>';
                document.body.style.opacity = '1';
            }, 1000);
        }, 500);
    }
    else if (command === 'ls') {
        addTerminalLine('Communications_Agents/', 'info');
        addTerminalLine('Op√©rations_Classifi√©es/', 'info');
        addTerminalLine('Rapports_Terrain/', 'info');
        if (gameState.secretFolderRevealed) {
            addTerminalLine('CHIMERA_X7/ [TOP SECRET]', 'error');
        }
    }
    else if (command === 'clear') {
        document.getElementById('terminal-output').innerHTML = '';
    }
    else if (command === 'reveal') {
        if (gameState.secretFolderRevealed) {
            addTerminalLine('Le dossier CHIMERA_X7 est d√©j√† visible.', 'warning');
        } else {
            addTerminalLine('D√©chiffrement en cours...', 'warning');
            if (gameState.audioInitialized) audio.reveal();
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += 10;
                const bar = '‚ñà'.repeat(progress / 10) + '‚ñë'.repeat(10 - progress / 10);
                document.getElementById('terminal-output').lastChild.textContent = `D√©chiffrement: [${bar}] ${progress}%`;
                if (gameState.audioInitialized) audio.bootProgress();
                if (progress >= 100) {
                    clearInterval(progressInterval);
                    addTerminalLine('Dossier CHIMERA_X7 r√©v√©l√© sur le bureau!', 'success');
                    gameState.secretFolderRevealed = true;
                    document.querySelector('.secret-folder').style.display = 'flex';
                }
            }, 150);
        }
    }
    else if (command === 'status') {
        addTerminalLine('=== √âTAT DE LA MISSION ===', 'info');
        addTerminalLine(`Fichiers consult√©s: ${gameState.filesRead.length}`, '');
        addTerminalLine(`Dossier secret: ${gameState.secretFolderRevealed ? 'R√âV√âL√â' : 'CACH√â'}`, '');
        if (gameState.missionStartTime) {
            const elapsed = Math.floor((Date.now() - gameState.missionStartTime) / 1000);
            const mins = Math.floor(elapsed / 60);
            const secs = elapsed % 60;
            addTerminalLine(`Temps √©coul√©: ${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`, '');
        }
    }
    else if (command.startsWith('send ')) {
        const parts = command.split(' ');
        if (parts.length >= 3) {
            const file = parts[1];
            const ip = parts[2];
            
            if (file.toLowerCase().includes('chimera') && ip === '192.168.13.37') {
                if (!gameState.secretFolderRevealed) {
                    if (gameState.audioInitialized) audio.error();
                    addTerminalLine('ERREUR: Fichier non trouv√©. Utilisez "reveal" d\'abord.', 'error');
                } else {
                    addTerminalLine('Connexion au serveur F.A.N. (192.168.13.37)...', 'warning');
                    if (gameState.audioInitialized) audio.transmission();
                    setTimeout(() => {
                        addTerminalLine('Connexion √©tablie!', 'success');
                        addTerminalLine('Tentative de transfert...', 'warning');
                        if (gameState.audioInitialized) audio.transmission();
                        setTimeout(() => {
                            if (gameState.audioInitialized) audio.firewallAlert();
                            addTerminalLine('‚ö†Ô∏è PARE-FEU FIB D√âTECT√â!', 'error');
                            addTerminalLine('Initialisation du protocole de bypass...', 'warning');
                            setTimeout(() => {
                                startMinigame();
                            }, 1500);
                        }, 1500);
                    }, 1000);
                }
            } else {
                if (gameState.audioInitialized) audio.error();
                addTerminalLine('ERREUR: Fichier ou adresse IP invalide.', 'error');
                addTerminalLine('Usage: send CHIMERA_X7.enc 192.168.13.37', 'info');
            }
        } else {
            addTerminalLine('Usage: send [fichier] [adresse_ip]', 'info');
        }
    }
    else {
        if (gameState.audioInitialized) audio.error();
        addTerminalLine(`Commande non reconnue: ${cmd}`, 'error');
        addTerminalLine('Tapez "help" pour la liste des commandes.', 'info');
    }
}

// ===== MINIGAME =====
function startMinigame() {
    const overlay = document.getElementById('minigame-overlay');
    const keysContainer = document.getElementById('minigame-keys');
    const status = document.getElementById('minigame-status');
    const timerBar = document.getElementById('timer-bar');
    
    const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    gameState.currentMinigameKeys = [];
    for (let i = 0; i < 10; i++) {
        gameState.currentMinigameKeys.push(letters[Math.floor(Math.random() * letters.length)]);
    }
    gameState.currentKeyIndex = 0;
    gameState.minigameTimeLeft = 15;
    
    keysContainer.innerHTML = '';
    gameState.currentMinigameKeys.forEach((key, index) => {
        const keyBox = document.createElement('div');
        keyBox.className = 'key-box';
        keyBox.id = `key-${index}`;
        keyBox.textContent = key;
        if (index === 0) keyBox.classList.add('active');
        keysContainer.appendChild(keyBox);
    });
    
    overlay.style.display = 'flex';
    status.textContent = 'Tapez les touches rapidement!';
    timerBar.style.width = '100%';
    
    gameState.minigameTimer = setInterval(() => {
        gameState.minigameTimeLeft -= 0.1;
        timerBar.style.width = `${(gameState.minigameTimeLeft / 15) * 100}%`;
        
        if (gameState.minigameTimeLeft <= 0) {
            clearInterval(gameState.minigameTimer);
            if (gameState.audioInitialized) audio.error();
            status.textContent = '√âCHEC - Temps √©coul√©!';
            status.style.color = '#ef4444';
            document.removeEventListener('keydown', handleMinigameKey);
            setTimeout(() => {
                overlay.style.display = 'none';
                addTerminalLine('BYPASS √âCHOU√â - R√©essayez avec "send"', 'error');
            }, 2000);
        }
    }, 100);
    
    document.addEventListener('keydown', handleMinigameKey);
}

function handleMinigameKey(e) {
    if (!document.getElementById('minigame-overlay').style.display || 
        document.getElementById('minigame-overlay').style.display === 'none') {
        return;
    }
    
    const pressedKey = e.key.toUpperCase();
    const expectedKey = gameState.currentMinigameKeys[gameState.currentKeyIndex];
    const keyBox = document.getElementById(`key-${gameState.currentKeyIndex}`);
    
    if (pressedKey === expectedKey) {
        if (gameState.audioInitialized) audio.correctKey();
        keyBox.classList.remove('active');
        keyBox.classList.add('correct');
        gameState.currentKeyIndex++;
        
        if (gameState.currentKeyIndex < gameState.currentMinigameKeys.length) {
            document.getElementById(`key-${gameState.currentKeyIndex}`).classList.add('active');
        } else {
            clearInterval(gameState.minigameTimer);
            if (gameState.audioInitialized) audio.hackSuccess();
            document.getElementById('minigame-status').textContent = 'BYPASS R√âUSSI!';
            document.getElementById('minigame-status').style.color = '#22c55e';
            document.removeEventListener('keydown', handleMinigameKey);
            
            setTimeout(() => {
                document.getElementById('minigame-overlay').style.display = 'none';
                showHackSuccess();
            }, 1000);
        }
    } else if (/^[A-Z]$/.test(pressedKey)) {
        if (gameState.audioInitialized) audio.wrongKey();
        keyBox.classList.add('wrong');
        setTimeout(() => keyBox.classList.remove('wrong'), 300);
    }
}

// ===== HACK SUCCESS =====
function showHackSuccess() {
    if (gameState.audioInitialized) audio.glitch();
    
    const terminal = document.getElementById('terminal-window');
    terminal.style.top = '50px';
    terminal.style.left = '50px';
    terminal.style.width = 'calc(100vw - 100px)';
    terminal.style.height = 'calc(100vh - 120px)';
    terminal.style.zIndex = '500';
    
    document.getElementById('desktop-screen').classList.add('glitch-effect');
    
    const hackLines = [
        { text: '', delay: 0 },
        { text: '‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà', delay: 100, class: 'success' },
        { text: '‚ñà                                                            ‚ñà', delay: 150, class: 'success' },
        { text: '‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó        ‚ñà', delay: 200, class: 'success' },
        { text: '‚ñà   ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ïö‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù        ‚ñà', delay: 250, class: 'success' },
        { text: '‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó        ‚ñà', delay: 300, class: 'success' },
        { text: '‚ñà   ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó  ‚ïö‚ñà‚ñà‚ïî‚ïù  ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïù ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ïö‚ïê‚ïê‚ïê‚ïê‚ñà‚ñà‚ïë‚ïö‚ïê‚ïê‚ïê‚ïê‚ñà‚ñà‚ïë        ‚ñà', delay: 350, class: 'success' },
        { text: '‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù   ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë        ‚ñà', delay: 400, class: 'success' },
        { text: '‚ñà   ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù    ‚ïö‚ïê‚ïù   ‚ïö‚ïê‚ïù     ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù        ‚ñà', delay: 450, class: 'success' },
        { text: '‚ñà                                                            ‚ñà', delay: 500, class: 'success' },
        { text: '‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà', delay: 550, class: 'success' },
        { text: '', delay: 600 },
        { text: '[*] Connexion √©tablie avec F.A.N. Server (192.168.13.37)', delay: 700, class: 'info' },
        { text: '[*] Authentification... OK', delay: 900, class: 'info' },
        { text: '[*] Canal s√©curis√© √©tabli (TLS 1.3)', delay: 1100, class: 'info' },
        { text: '', delay: 1200 },
        { text: '[>] Initialisation du transfert...', delay: 1400, class: 'warning' },
    ];
    
    hackLines.forEach((line, index) => {
        setTimeout(() => {
            addTerminalLine(line.text, line.class || '');
            if (gameState.audioInitialized && line.text) audio.bootProgress();
        }, line.delay);
    });
    
    setTimeout(() => {
        let progress = 0;
        const progressInterval = setInterval(() => {
            progress += 2;
            const barLength = 50;
            const filled = Math.floor((progress / 100) * barLength);
            const empty = barLength - filled;
            const bar = '‚ñà'.repeat(filled) + '‚ñë'.repeat(empty);
            
            const output = document.getElementById('terminal-output');
            const lastLine = output.lastChild;
            if (lastLine) {
                lastLine.textContent = `[>] Transfert: [${bar}] ${progress}%`;
                lastLine.className = 'terminal-line warning';
            }
            
            if (gameState.audioInitialized && progress % 10 === 0) audio.downloading();
            
            if (progress >= 100) {
                clearInterval(progressInterval);
                showTerminalMissionComplete();
            }
        }, 50);
        
        addTerminalLine('[>] Transfert: [‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] 0%', 'warning');
    }, 1600);
}

function showTerminalMissionComplete() {
    if (gameState.audioInitialized) {
        audio.stopAmbience();
        audio.hackSuccess();
    }
    
    const missionLines = [
        { text: '', delay: 200 },
        { text: '[‚úì] Transfert termin√©: CHIMERA_X7.enc (2.3 GB)', delay: 300, class: 'success' },
        { text: '[‚úì] V√©rification int√©grit√© SHA-256... OK', delay: 500, class: 'success' },
        { text: '[‚úì] Accus√© de r√©ception F.A.N.... CONFIRM√â', delay: 700, class: 'success' },
        { text: '', delay: 900 },
        { text: '[!] Effacement des traces...', delay: 1000, class: 'warning' },
        { text: '[‚úì] Logs syst√®me... PURG√âS', delay: 1200, class: 'success' },
        { text: '[‚úì] Cache m√©moire... EFFAC√â', delay: 1400, class: 'success' },
        { text: '[‚úì] Connexion... TERMIN√âE', delay: 1600, class: 'success' },
        { text: '', delay: 1800 },
        { text: '‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê', delay: 2000, class: 'success' },
        { text: '', delay: 2100 },
        { text: '  ‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó', delay: 2200, class: 'success' },
        { text: '  ‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë', delay: 2300, class: 'success' },
        { text: '  ‚ñà‚ñà‚ïî‚ñà‚ñà‚ñà‚ñà‚ïî‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë', delay: 2400, class: 'success' },
        { text: '  ‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ïö‚ïê‚ïê‚ïê‚ïê‚ñà‚ñà‚ïë‚ïö‚ïê‚ïê‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë', delay: 2500, class: 'success' },
        { text: '  ‚ñà‚ñà‚ïë ‚ïö‚ïê‚ïù ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë', delay: 2600, class: 'success' },
        { text: '  ‚ïö‚ïê‚ïù     ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïù', delay: 2700, class: 'success' },
        { text: '', delay: 2800 },
        { text: '     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó     ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó', delay: 2900, class: 'success' },
        { text: '    ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù', delay: 3000, class: 'success' },
        { text: '    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ñà‚ñà‚ñà‚ñà‚ïî‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ', delay: 3100, class: 'success' },
        { text: '    ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïù ‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù  ', delay: 3200, class: 'success' },
        { text: '    ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë ‚ïö‚ïê‚ïù ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó', delay: 3300, class: 'success' },
        { text: '    ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù     ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù     ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù', delay: 3400, class: 'success' },
        { text: '', delay: 3500 },
        { text: '‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê', delay: 3600, class: 'success' },
        { text: '', delay: 3700 },
    ];
    
    missionLines.forEach((line) => {
        setTimeout(() => {
            addTerminalLine(line.text, line.class || '');
            if (gameState.audioInitialized && line.text) audio.bootProgress();
        }, line.delay);
    });
    
    setTimeout(() => {
        if (gameState.audioInitialized) audio.victory();
        
        const elapsed = gameState.missionStartTime ? 
            Math.floor((Date.now() - gameState.missionStartTime) / 1000) : 0;
        const mins = Math.floor(elapsed / 60);
        const secs = elapsed % 60;
        const timeStr = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        
        addTerminalLine('  [RAPPORT DE MISSION]', 'info');
        addTerminalLine('  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ', '');
        addTerminalLine(`  ‚îÇ Op√©ration........... CHIMERA`, '');
        addTerminalLine(`  ‚îÇ Statut.............. SUCC√àS`, 'success');
        addTerminalLine(`  ‚îÇ Fichiers exfiltr√©s.. 47`, '');
        addTerminalLine(`  ‚îÇ Donn√©es transf√©r√©es. 2.3 GB`, '');
        addTerminalLine(`  ‚îÇ Temps de mission.... ${timeStr}`, '');
        addTerminalLine(`  ‚îÇ Pare-feu contourn√©.. OUI`, 'success');
        addTerminalLine('  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ', '');
        addTerminalLine('', '');
        addTerminalLine('  La F.A.N. a re√ßu les donn√©es. Les contre-mesures', 'info');
        addTerminalLine('  contre CHIMERA-X7 sont en cours de d√©veloppement.', 'info');
        addTerminalLine('', '');
        addTerminalLine('  Excellent travail, Agent. D√©connexion recommand√©e.', 'warning');
        addTerminalLine('', '');
        addTerminalLine('  > Tapez "exit" pour quitter ou "restart" pour rejouer', 'info');
    }, 4000);
}

// ===== TIME DISPLAY =====
function updateTime() {
    const now = new Date();
    const timeStr = now.toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' });
    const dateStr = now.toLocaleDateString('fr-FR', { weekday: 'short', day: 'numeric', month: 'short' });
    
    const loginTime = document.getElementById('login-time');
    const menuTime = document.getElementById('menu-time');
    
    if (loginTime) loginTime.textContent = `${dateStr} ${timeStr}`;
    if (menuTime) menuTime.textContent = `${dateStr} ${timeStr}`;
}
    </script>
</body>
</html>
